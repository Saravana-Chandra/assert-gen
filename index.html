<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Katalon Assertion Generator</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen p-6">
  <div class="max-w-5xl mx-auto bg-white shadow-lg rounded-xl p-8">
    <h1 class="text-2xl font-bold text-center mb-6 text-indigo-700">JSON ‚ûú Katalon Assertion Generator</h1>

    <label for="jsonInput" class="block text-sm font-medium text-gray-700 mb-2">Paste your JSON input:</label>
    <textarea id="jsonInput" rows="12" class="w-full p-4 border border-gray-300 rounded-lg font-mono text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none" placeholder='{
  "data": {
    ...
  }
}'></textarea>

    <label for="preferredKeys" class="block text-sm font-medium text-gray-700 mt-4 mb-1">Preferred keys for <code>.find {}</code> (comma-separated):</label>
    <input id="preferredKeys" type="text" 
  value="key,id,name,__typename" 
  class="w-full p-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-indigo-500 focus:outline-none mb-4 text-gray-400" 
  onfocus="this.classList.remove('text-gray-400')" 
/>


    <div class="flex flex-col gap-4 mt-4">
  <label class="inline-flex items-center">
    <input type="checkbox" id="wrapInBlock" class="form-checkbox text-indigo-600">
    <span class="ml-2 text-sm text-gray-700">Wrap in Katalon Test Script Block</span>
  </label>

  <div class="flex flex-wrap items-center gap-4">
    <button onclick="generateKatalonAssertions()" class="bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition">
      Generate Assertions
    </button>

    <button onclick="copyAssertions()" class="bg-gray-800 text-white px-4 py-2 rounded-lg hover:bg-gray-700 flex items-center">
      üìã <span class="ml-1">Copy</span>
    </button>

    <button onclick="downloadAssertions()" class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center">
      ‚¨áÔ∏è <span class="ml-1">Download</span>
    </button>
  </div>
</div>


    <label for="output" class="block text-sm font-medium text-gray-700 mt-6 mb-2">Katalon Assertions:</label>
    <pre id="output" class="w-full p-4 bg-gray-900 text-green-300 text-sm rounded-lg overflow-x-auto whitespace-pre-wrap"></pre>
  </div>

  <script>
(function(_0x158a4b,_0x5accf9){const _0x2b26fe=_0x11fb,_0x52b686=_0x158a4b();while(!![]){try{const _0x491131=-parseInt(_0x2b26fe(0x172))/0x1*(parseInt(_0x2b26fe(0x174))/0x2)+-parseInt(_0x2b26fe(0x19c))/0x3+parseInt(_0x2b26fe(0x175))/0x4*(-parseInt(_0x2b26fe(0x192))/0x5)+-parseInt(_0x2b26fe(0x18e))/0x6*(-parseInt(_0x2b26fe(0x185))/0x7)+-parseInt(_0x2b26fe(0x170))/0x8+-parseInt(_0x2b26fe(0x177))/0x9+parseInt(_0x2b26fe(0x195))/0xa;if(_0x491131===_0x5accf9)break;else _0x52b686['push'](_0x52b686['shift']());}catch(_0x1eb111){_0x52b686['push'](_0x52b686['shift']());}}}(_0x4447,0x7c7ed));function isPrimitive(_0x3f2ee1){const _0x59ee0f=_0x11fb;return _0x3f2ee1===null||[_0x59ee0f(0x1a1),_0x59ee0f(0x19d),_0x59ee0f(0x197)][_0x59ee0f(0x186)](typeof _0x3f2ee1);}function _0x4447(){const _0x44c776=['number','katalon_assertions.groovy','getElementById','download','string','object','split','6264088ejrjKh','output','2929iwwXnt','WS.verifyTrue(responseMap.get(\x22','402SMaDIM','24152wqruRk','click','6175800jUbEav','text/plain','\x20==\x20','find','jsonInput','\x22),\x20','removeChild','parse','entries','forEach','createObjectURL','length','preferredKeys','‚úÖ\x20Assertions\x20copied\x20to\x20clipboard!','28HLtawz','includes','catch','data.','‚ùå\x20Invalid\x20JSON\x20input!','.find\x20{\x20it.','))\x0a','WS.verifyEqual(responseMap.get(\x22','createElement','746838PZSClY','isArray','checked','\x22).contains(','10eCIYCf','appendChild','href','25648240fBUNbo','textContent','boolean','value','import\x20com.kms.katalon.core.webservice.keyword.WSBuiltInKeywords\x20as\x20WS\x0aimport\x20groovy.json.JsonSlurper\x0a\x0adef\x20responseMap\x20=\x20new\x20JsonSlurper().parseText(response.getResponseBodyContent())\x0a\x0a','body','revokeObjectURL','1448301UFBrQp'];_0x4447=function(){return _0x44c776;};return _0x4447();}function generateAssertions(_0x5c9ba8,_0x239d44,_0x45c59b){const _0xe01eb5=_0x11fb;let _0x3e54c2='';if(Array[_0xe01eb5(0x18f)](_0x239d44)){const _0x32f9a9=_0x239d44['every'](isPrimitive);_0x32f9a9?(_0x3e54c2+=_0xe01eb5(0x18c)+_0x5c9ba8+'\x22).size(),\x20'+_0x239d44[_0xe01eb5(0x182)]+')\x0a',_0x239d44[_0xe01eb5(0x180)](_0x33a406=>{const _0xadbc8c=_0xe01eb5,_0x2a074b=typeof _0x33a406==='string'?'\x22'+_0x33a406+'\x22':_0x33a406;_0x3e54c2+=_0xadbc8c(0x173)+_0x5c9ba8+_0xadbc8c(0x191)+_0x2a074b+_0xadbc8c(0x18b);})):(_0x3e54c2+=_0xe01eb5(0x18c)+_0x5c9ba8+'\x22).size(),\x20'+_0x239d44['length']+')\x0a',_0x239d44[_0xe01eb5(0x180)]((_0x29d0d9,_0x9d7d04)=>{const _0x55d859=_0xe01eb5;if(typeof _0x29d0d9===_0x55d859(0x1a2)&&_0x29d0d9!==null){const _0x3211a5=_0x45c59b[_0x55d859(0x17a)](_0xa8e975=>_0xa8e975 in _0x29d0d9&&isPrimitive(_0x29d0d9[_0xa8e975]));if(_0x3211a5){const _0x5c828d=typeof _0x29d0d9[_0x3211a5]===_0x55d859(0x1a1)?'\x5c\x22'+_0x29d0d9[_0x3211a5]+'\x5c\x22':_0x29d0d9[_0x3211a5],_0x55ad32=_0x5c9ba8+_0x55d859(0x18a)+_0x3211a5+_0x55d859(0x179)+_0x5c828d+'\x20}';_0x3e54c2+=generateAssertions(_0x55ad32,_0x29d0d9,_0x45c59b);}else _0x3e54c2+=generateAssertions(_0x5c9ba8+'['+_0x9d7d04+']',_0x29d0d9,_0x45c59b);}}));}else{if(_0x239d44!==null&&typeof _0x239d44===_0xe01eb5(0x1a2))Object[_0xe01eb5(0x17f)](_0x239d44)[_0xe01eb5(0x180)](([_0x3b864f,_0x4d3db4])=>{_0x3e54c2+=generateAssertions(_0x5c9ba8+'.'+_0x3b864f,_0x4d3db4,_0x45c59b);});else{const _0x28886f=typeof _0x239d44===_0xe01eb5(0x1a1)?'\x22'+_0x239d44+'\x22':_0x239d44;_0x3e54c2+='WS.verifyEqual(responseMap.get(\x22'+_0x5c9ba8+_0xe01eb5(0x17c)+_0x28886f+')\x0a';}}return _0x3e54c2;}function generateKatalonAssertions(){const _0x114bad=_0x11fb,_0x4532f5=document[_0x114bad(0x19f)](_0x114bad(0x17b))['value'],_0x41a2e4=document['getElementById']('wrapInBlock')[_0x114bad(0x190)],_0x2feef4=document[_0x114bad(0x19f)](_0x114bad(0x183))[_0x114bad(0x198)][_0x114bad(0x16f)](',')['map'](_0x5c3b98=>_0x5c3b98['trim']());try{const _0x352d52=JSON[_0x114bad(0x17e)](_0x4532f5);let _0x533bf2='';Object[_0x114bad(0x17f)](_0x352d52)[_0x114bad(0x180)](([_0x2ccbcb,_0x1e71db])=>{const _0xf440c=_0x114bad;_0x533bf2+=generateAssertions(_0xf440c(0x188)+_0x2ccbcb,_0x1e71db,_0x2feef4);}),_0x41a2e4&&(_0x533bf2=_0x114bad(0x199)+_0x533bf2),document[_0x114bad(0x19f)](_0x114bad(0x171))[_0x114bad(0x196)]=_0x533bf2;}catch(_0x9db34b){document[_0x114bad(0x19f)](_0x114bad(0x171))[_0x114bad(0x196)]=_0x114bad(0x189);}}function _0x11fb(_0x303f30,_0x44c953){const _0x444767=_0x4447();return _0x11fb=function(_0x11fbee,_0x1ea8a8){_0x11fbee=_0x11fbee-0x16f;let _0x5f3b64=_0x444767[_0x11fbee];return _0x5f3b64;},_0x11fb(_0x303f30,_0x44c953);}function copyAssertions(){const _0x54bf73=_0x11fb,_0x3c02c4=document[_0x54bf73(0x19f)](_0x54bf73(0x171))[_0x54bf73(0x196)];navigator['clipboard']['writeText'](_0x3c02c4)['then'](()=>{const _0x2b2666=_0x54bf73;alert(_0x2b2666(0x184));})[_0x54bf73(0x187)](_0x4ded69=>{alert('‚ùå\x20Failed\x20to\x20copy:\x20'+_0x4ded69);});}function downloadAssertions(){const _0x148bbc=_0x11fb,_0x59081b=document[_0x148bbc(0x19f)](_0x148bbc(0x171))[_0x148bbc(0x196)],_0x36a662=new Blob([_0x59081b],{'type':_0x148bbc(0x178)}),_0x4bebca=URL[_0x148bbc(0x181)](_0x36a662),_0x5940b5=document[_0x148bbc(0x18d)]('a');_0x5940b5[_0x148bbc(0x194)]=_0x4bebca,_0x5940b5[_0x148bbc(0x1a0)]=_0x148bbc(0x19e),document[_0x148bbc(0x19a)][_0x148bbc(0x193)](_0x5940b5),_0x5940b5[_0x148bbc(0x176)](),document[_0x148bbc(0x19a)][_0x148bbc(0x17d)](_0x5940b5),URL[_0x148bbc(0x19b)](_0x4bebca);}</script>
</body>
</html>
